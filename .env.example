# ===============================================
# üåê JARVIS CONFIGURATION ENVIRONMENT TEMPLATE
# ===============================================
# Copier ce fichier vers .env et configurer les valeurs

# ===========================================
# üéØ ENVIRONMENT G√âN√âRAL
# ===========================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# ===========================================
# üîê S√âCURIT√â CRITIQUE
# ===========================================
# JWT et authentification
JARVIS_SECRET_KEY=your-secure-secret-key-32-chars-minimum
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS et domaines autoris√©s
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
TRUSTED_HOSTS=localhost,127.0.0.1,*.jarvis.local

# ===========================================
# üê≥ INFRASTRUCTURE DOCKER
# ===========================================
# R√©seau Docker
DOCKER_NETWORK_NAME=jarvis_network
DOCKER_SUBNET=172.20.0.0/16
DOCKER_GATEWAY=172.20.0.1
DOCKER_MTU=1500

# Politique restart
RESTART_POLICY=unless-stopped

# Health checks
HEALTHCHECK_INTERVAL=60s
HEALTHCHECK_TIMEOUT=15s
HEALTHCHECK_RETRIES=5
HEALTHCHECK_START_PERIOD=30s

# ===========================================
# üìä BASE DE DONN√âES POSTGRESQL
# ===========================================
POSTGRES_HOST=172.20.0.100
POSTGRES_PORT=5432
POSTGRES_INTERNAL_PORT=5432
POSTGRES_DB=jarvis_db
POSTGRES_USER=jarvis
POSTGRES_PASSWORD=your-secure-postgres-password
POSTGRES_CONTAINER_NAME=jarvis_postgres
POSTGRES_IP=172.20.0.100
POSTGRES_IMAGE=postgres:15
POSTGRES_MEMORY_LIMIT=1G
POSTGRES_CPU_LIMIT=1.0
POSTGRES_MEMORY_RESERVATION=256M
POSTGRES_CPU_RESERVATION=0.25
POSTGRES_VOLUME=postgres_data
POSTGRES_INIT_SCRIPT=./backend/db/init.sql
POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C

# ===========================================
# üíæ CACHE REDIS
# ===========================================
REDIS_HOST=172.20.0.110
REDIS_PORT=6379
REDIS_INTERNAL_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_CONTAINER_NAME=jarvis_redis
REDIS_IP=172.20.0.110
REDIS_IMAGE=redis:7-alpine
REDIS_MEMORY_LIMIT=512M
REDIS_CPU_LIMIT=0.5
REDIS_MEMORY_RESERVATION=128M
REDIS_CPU_RESERVATION=0.1
REDIS_VOLUME=redis_data
REDIS_CONFIG=./config/redis.conf
REDIS_CONFIG_ARGS=--appendonly yes --maxmemory 512mb --maxmemory-policy allkeys-lru

# URLs de connexion
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_IP}:${REDIS_INTERNAL_PORT}

# ===========================================
# üìà TIMESCALEDB
# ===========================================
TIMESCALE_HOST=172.20.0.130
TIMESCALE_PORT=5433
TIMESCALE_INTERNAL_PORT=5432
TIMESCALE_DB=jarvis_timeseries
TIMESCALE_USER=jarvis
TIMESCALE_PASSWORD=your-secure-timescale-password
TIMESCALE_CONTAINER_NAME=jarvis_timescale
TIMESCALE_IP=172.20.0.130
TIMESCALE_IMAGE=timescale/timescaledb:latest-pg15
TIMESCALE_MEMORY_LIMIT=1G
TIMESCALE_CPU_LIMIT=1.0
TIMESCALE_MEMORY_RESERVATION=256M
TIMESCALE_CPU_RESERVATION=0.25
TIMESCALE_VOLUME=timescale_data
TIMESCALE_INIT_SCRIPT=./backend/db/timescale_init.sql
TIMESCALE_INITDB_ARGS=--encoding=UTF-8
TIMESCALEDB_TELEMETRY=off

# URL de connexion
TIMESCALE_URL=postgresql://${TIMESCALE_USER}:${TIMESCALE_PASSWORD}@${TIMESCALE_IP}:${TIMESCALE_INTERNAL_PORT}/${TIMESCALE_DB}

# ===========================================
# üß† QDRANT VECTOR DATABASE
# ===========================================
QDRANT_HOST=172.20.0.120
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_HTTP_INTERNAL_PORT=6333
QDRANT_GRPC_INTERNAL_PORT=6334
QDRANT_CONTAINER_NAME=jarvis_qdrant
QDRANT_IP=172.20.0.120
QDRANT_IMAGE=qdrant/qdrant:latest
QDRANT_MEMORY_LIMIT=2G
QDRANT_CPU_LIMIT=2.0
QDRANT_MEMORY_RESERVATION=512M
QDRANT_CPU_RESERVATION=0.5
QDRANT_VOLUME=qdrant_data
QDRANT_CONFIG=./config/qdrant_config.yaml
QDRANT_MAX_SEARCH_THREADS=4
QDRANT_ENABLE_CORS=true
QDRANT_MAX_INDEXING_THREADS=2
QDRANT_MAX_PAYLOAD_SIZE=33554432

# URL de connexion
QDRANT_URL=http://${QDRANT_IP}:${QDRANT_HTTP_INTERNAL_PORT}

# ===========================================
# ü§ñ OLLAMA LLM
# ===========================================
OLLAMA_HOST=172.20.0.30
OLLAMA_PORT=11434
OLLAMA_INTERNAL_PORT=11434
OLLAMA_CONTAINER_NAME=jarvis_ollama
OLLAMA_IP=172.20.0.30
OLLAMA_IMAGE=ollama/ollama:latest
OLLAMA_MEMORY_LIMIT=4G
OLLAMA_CPU_LIMIT=2.0
OLLAMA_MEMORY_RESERVATION=1G
OLLAMA_CPU_RESERVATION=0.5
OLLAMA_VOLUME=ollama_data

# Configuration performance 2025
OLLAMA_ORIGINS=*
OLLAMA_MODELS=/root/.ollama/models
OLLAMA_REQUEST_TIMEOUT=300s
OLLAMA_KEEP_ALIVE=24h
OLLAMA_MAX_LOADED_MODELS=2
OLLAMA_NUM_PARALLEL=2
OLLAMA_MAX_QUEUE=512
OLLAMA_FLASH_ATTENTION=1
OLLAMA_NOPRUNE=0
OLLAMA_TMPDIR=/tmp
OLLAMA_DEBUG=0

# Mod√®les
OLLAMA_PRIMARY_MODEL=llama3.1:latest
OLLAMA_SECONDARY_MODEL=llama3.2:1b
OLLAMA_SETUP_CONTAINER_NAME=jarvis_ollama_setup
OLLAMA_SETUP_RESTART_POLICY=no

# URLs
OLLAMA_BASE_URL=http://${OLLAMA_IP}:${OLLAMA_INTERNAL_PORT}

# ===========================================
# ‚öôÔ∏è BACKEND API
# ===========================================
BACKEND_HOST=172.20.0.40
BACKEND_PORT=8000
BACKEND_INTERNAL_PORT=8000
BACKEND_CONTAINER_NAME=jarvis_backend
BACKEND_IP=172.20.0.40
BACKEND_MEMORY_LIMIT=2G
BACKEND_CPU_LIMIT=2.0
BACKEND_MEMORY_RESERVATION=512M
BACKEND_CPU_RESERVATION=0.5

# Configuration backend
MAX_WORKERS=8
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65

# URLs de services
BACKEND_API_URL=http://${BACKEND_IP}:${BACKEND_INTERNAL_PORT}
TTS_API_URL=http://172.20.0.20:8002
STT_API_URL=http://172.20.0.10:8003
INTERFACE_URL=http://172.20.0.50:8000

# Configuration m√©moire
MEMORY_UPDATE_INTERVAL=604800
MEMORY_RETENTION_DAYS=365
BRAIN_MEMORY_ENABLED=true
EMOTIONAL_ANALYSIS_ENABLED=true
AUTO_CONSOLIDATION_ENABLED=true

# URLs de connexion DB
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_IP}:${POSTGRES_INTERNAL_PORT}/${POSTGRES_DB}

# ===========================================
# üñ•Ô∏è INTERFACE FRONTEND
# ===========================================
INTERFACE_HOST=172.20.0.50
INTERFACE_PORT=3000
INTERFACE_INTERNAL_PORT=8000
WEBSOCKET_PORT=8001
INTERFACE_CONTAINER_NAME=jarvis_interface
INTERFACE_IP=172.20.0.50
INTERFACE_MEMORY_LIMIT=1G
INTERFACE_CPU_LIMIT=1.0
INTERFACE_MEMORY_RESERVATION=256M
INTERFACE_CPU_RESERVATION=0.25

# Configuration React
REACT_APP_API_URL=http://localhost:${BACKEND_PORT}
REACT_APP_WS_URL=ws://localhost:${WEBSOCKET_PORT}
WEBSOCKET_URL=ws://localhost:${WEBSOCKET_PORT}

# Interface config
INTERFACE_MODE=hybrid
INTERFACE_THEME=cyberpunk

# ===========================================
# üé§ STT API (SPEECH-TO-TEXT)
# ===========================================
STT_HOST=172.20.0.10
STT_API_PORT=8003
STT_INTERNAL_PORT=8003
STT_CONTAINER_NAME=jarvis_stt_api
STT_API_IP=172.20.0.10
STT_SERVICE_NAME=stt-api
STT_MODEL_PATH=/app/models/stt

# ===========================================
# üîä TTS API (TEXT-TO-SPEECH)
# ===========================================
TTS_HOST=172.20.0.20
TTS_API_PORT=8002
TTS_INTERNAL_PORT=8002
TTS_CONTAINER_NAME=jarvis_tts_api
TTS_API_IP=172.20.0.20
TTS_SERVICE_NAME=tts-api
TTS_MODEL_PATH=/app/models/tts

# ===========================================
# üè† HOME ASSISTANT
# ===========================================
HOME_ASSISTANT_URL=http://localhost:8123
HOME_ASSISTANT_TOKEN=your-home-assistant-token

# ===========================================
# üì° MQTT BROKER
# ===========================================
MQTT_BROKER=localhost
MQTT_PORT=1883
MQTT_USERNAME=jarvis
MQTT_PASSWORD=your-mqtt-password

# ===========================================
# üìÅ CHEMINS STOCKAGE
# ===========================================
MODELS_PATH=./models
LOGS_PATH=./logs
DATA_PATH=./data

# ===========================================
# üîç API KEYS EXTERNES
# ===========================================
# MCP Search APIs
BRAVE_API_KEY=your-brave-search-api-key
BRAVE_API_KEY_2=your-brave-search-api-key-backup
TAVILY_API_KEY=your-tavily-api-key
GOOGLE_API_KEY=your-google-search-api-key
GOOGLE_CX=your-google-custom-search-engine-id

# M√©t√©o
METEO_API_KEY=your-weather-api-key

# Navigation web
BROWSERBASE_API_KEY=your-browserbase-api-key
BROWSERBASE_PROJECT_ID=your-browserbase-project-id

# IA Services
GEMINI_API_KEY=your-gemini-api-key

# ===========================================
# üöÄ DEVOPS CONFIGURATION
# ===========================================
# Jenkins
JENKINS_USER=admin
JENKINS_PASSWORD=admin

# ArgoCD
ARGOCD_USER=admin
ARGOCD_PASSWORD=admin

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Monitoring
SLACK_WEBHOOK_URL=your-slack-webhook-url
EMERGENCY_WEBHOOK=your-emergency-webhook-url
CRITICAL_ALERT_WEBHOOK=your-critical-alert-webhook
MAINTENANCE_WEBHOOK=your-maintenance-webhook

# Backup
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_URL=s3://your-backup-bucket

# ===========================================
# üåç MULTI-ENVIRONNEMENT
# ===========================================
# Ces variables changent selon l'environnement
COMPOSE_PROJECT_NAME=jarvis-${ENVIRONMENT}
COMPOSE_FILE=docker-compose.yml:docker-compose.${ENVIRONMENT}.yml

# SSL/TLS (Production)
SSL_CERT_PATH=/etc/ssl/certs/jarvis.crt
SSL_KEY_PATH=/etc/ssl/private/jarvis.key

# Domaines
DOMAIN=jarvis.local
API_DOMAIN=api.${DOMAIN}
APP_DOMAIN=app.${DOMAIN}